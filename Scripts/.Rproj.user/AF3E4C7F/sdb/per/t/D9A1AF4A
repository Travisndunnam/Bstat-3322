{
    "contents" : "# 0100-Bootstrap median example\n#\n# We demonstrate the bootstrapping of the sample median of \n# commute time in Atlanta Georgia using the data provided at the\n# LOck5 Wed site: \n# \n# http://www.lock5stat.com/datasets/CommuteAtlanta.csv\n\nrm( list=ls())                         # Clear environment\n\n###########################################################\n# We directly read the comma seperated file over the      #\n# internet.                                               #\n###########################################################\n\nURL <- \"http://www.lock5stat.com/datasets/CommuteAtlanta.csv\"\nCA <- read.csv( URL )\nhead( CA )\ntail( CA )\n\n###########################################################\n# As usual we should plot the data prior to begining any  #\n# analysis.                                               #\n###########################################################\n\nrequire( ggplot2 )            # For ggplot2 fubctionality\n\nggplot( CA, \n        aes( x=Time)) +\n    geom_histogram( aes( y=..density.. ),\n                    binwidth=10,\n                    color=\"black\",\n                    fill=\"yellow\") +\n    geom_density() +\n    xlab( \"Time (minutes)\") +\n    ylab( \"Density\") +\n    ggtitle( \"Allanta Commute Time Distributio\\n\")\n\n\n############################################################\n# We are going to use the R-package simpleboot.  You will  #\n# need to install tghe package.                            #\n############################################################\n\nrequire( simpleboot )\n\n############################################################\n# We will run 1000 bootstrap replications using the Time   #\n# variable in the CA data frame.  The statistical finction #\n# is the sample mean.                                      #\n############################################################\n\nbootObject <- \none.boot( CA$Time,    # The variable of interest\n          median,       # The desired statistical function\n          R=1000 )    # Number of replications\n          \n############################################################\n# Compute the bootstrap distribution and the standard      #\n# error of the bootstrap sampleing distribution.           #\n############################################################\n\nbsMean <- mean( bootObject$t )\nse     <- sd( bootObject$t)\nbias <- bsMean - bootObject$t0\napb <- abs( bias / bootObject$t0  ) * 100\n\ncat( \"\\nOrginal Sample Mean:        \", bootObject$t0,\n     \"\\nBootstrap distribution mean:\", bsMean,\n     \"\\nBootstrap bias:             \", bias,\n     \"\\nAbsolute percent bais:      \", apb,\n     \"\\nBootstrap Standard error:   \", se )\n\n############################################################\n# We now check the shape of the bootstrap sampling         #\n# to determine the type of confidence intervals we should  #\n# use.                                                     #\n############################################################\n\nhist( bootObject,\n      xlab = \"Bootstrap samples\", \n      main = \"Compute Atlanta \\nMedian Bootstrap Sampling distribution\")\n\n###########################################################\n# The bootstrap distribution appears to have a slightly   #\n# positive skew.  Therefore, we should probably not use   #\n# The normal confidence intervals are not appropriate.    #\n# We can use the boot.ci confdence intervals in the R-    #\n# package boot.  YOu will need to install this package    #\n###########################################################\n\nrequire( boot )\n     \nboot.ci( bootObject,\n         conf =c( 0.90, 0.95, 0.98, 0.99 ),\n         type=\"all\" )\n\n##########################################################\n# Conclusion: The bootstrap sampling distribution is not #\n# a symetric mounded shape distribution. Therefore, we   #\n# should use any of the bootstraped confidence intervals #\n##########################################################\n#\nrequire( boot )\n\nboot.ci( bootObject,\n         conf =c( 0.90, 0.95, 0.98, 0.99 ),\n         type=\"all\" )",
    "created" : 1442937770845.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "434735847",
    "id" : "D9A1AF4A",
    "lastKnownWriteTime" : 1442941478,
    "path" : "C:/Users/Craig/BSTAT3322/Scripts/0100-Bootstrap_median.R",
    "project_path" : "0100-Bootstrap_median.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}